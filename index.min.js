!function(global,factory){"function"==typeof define&&define.amd?define("glfe",[],factory):"object"==typeof module&&module.exports?module.exports=factory():global.glfe=factory()}(this,function(){var toString=Object.prototype.toString,arrayPropReg=new RegExp("^[\\w\\$]+!$");function isDefined(value){return"[object Undefined]"!==toString.call(value)}function hasSB(propPart){return-1!==propPart.indexOf("[")}function isValidPropPath(propPath){return"string"==typeof propPath&&0<propPath.replace(/^\s|\s$/,"").length}function isArrayProp(prop){return arrayPropReg.test(prop)}function warn(message){console.warn("[glfe] "+message)}return{get:function(target,propPath){return isValidPropPath(propPath)?propPath.split(".").reduce((prev,next)=>hasSB(next)?next.replace(/\]/g,"").split("[").reduce((b,a)=>b[a],prev):prev[next],target):(warn('"propPath" must be a non-empty prop path string.'),target)},set:function(target,propPath,value){if(0,!isValidPropPath(propPath))return warn('"propPath" must be a non-empty prop path string.'),target;var lastPropPart;if(1<(propPath=propPath.split(".")).length)return lastPropPart=propPath.pop(),subTarget=propPath.reduce((prev,next)=>hasSB(next)?next.replace(/\]/g,"").split("[").reduce((b,a)=>{var flag=isArrayProp(a);return b[a=flag?a.slice(0,-1):a]=b[a]||(flag?[]:{})},prev):prev[next]=prev[next]||{},target),hasSB(lastPropPart)?(propLast=(paths=lastPropPart.replace(/\]/g,"").split("[")).pop(),paths.reduce((b,a)=>{var flag=isArrayProp(a);return b[a=flag?a.slice(0,-1):a]=b[a]||(flag?[]:{})},subTarget)[propLast]=value):subTarget[lastPropPart]=value,target;var paths,propLast,subTarget=propPath.pop();return hasSB(subTarget)?(propLast=(paths=subTarget.replace(/\]/g,"").split("[")).pop(),paths.reduce((b,a)=>{var flag=isArrayProp(a);return b[a=flag?a.slice(0,-1):a]=b[a]||(flag?[]:{})},target)[propLast]=value):target[subTarget]=value,target},find:function(target,propPath){return isValidPropPath(propPath)?propPath.split(".").reduce((prev,next)=>hasSB(next)?next.replace(/\]/g,"").split("[").reduce((b,a)=>isDefined(b)&&isDefined(b[a])?b[a]:void 0,prev):isDefined(prev)&&isDefined(prev[next])?prev[next]:void 0,target):(warn('"propPath" must be a non-empty prop path string.'),target)}}});